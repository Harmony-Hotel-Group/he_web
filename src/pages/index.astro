---
import { useI18n } from '@/i18n/useI18n';
import HotelLayout from '@/layouts/HotelLayout.astro';
import Card from '@/components/ui/Card.astro';
import Button from '@/components/ui/Button.astro';
import RoomCard from '@/components/hotel/RoomCard.jsx';
import TourismCard from '@/components/hotel/TourismCard.jsx';

const { siteConfig } = await import('@/data/siteConfig.json');
const { hotel } = await import('@/data/hotel.json');
const { rooms } = await import('@/data/rooms.json');
const { tourism } = await import('@/data/tourism.json');

const { t } = useI18n();

// Get featured rooms (first 3)
const featuredRooms = rooms.slice(0, 3);
const featuredTourism = tourism.slice(0, 2);
---

<HotelLayout title={t('nav.home')} showReservationBar={false}>
  <!-- Hero Section -->
  <section class="relative h-screen flex items-center justify-center">
    <!-- Background Image -->
    <div class="absolute inset-0 bg-black bg-opacity-40">
      <img
        src={siteConfig.heroResources?.[0]?.path || '/hero/1.jpg'}
        alt={siteConfig.heroResources?.[0]?.alt?.es || 'Hotel Ensue√±os'}
        class="w-full h-full object-cover"
      />
    </div>

    <!-- Hero Content -->
    <div class="relative z-10 text-center text-white px-4">
      <h1 class="text-4xl md:text-6xl font-bold mb-4">
        {t('hero.title')}
      </h1>
      <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">
        {t('hero.subtitle')}
      </p>
      <Button variant="secondary" size="lg">
        {t('hero.cta')}
      </Button>
    </div>

    <!-- Scroll indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white animate-bounce">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </section>

  <!-- About Section -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">
          {t('about.title')}
        </h2>
        <p class="text-lg text-gray-700 mb-8">
          {hotel.description?.es || 'Hotel boutique ubicado en el coraz√≥n del centro hist√≥rico de Cuenca.'}
        </p>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mt-12">
          {hotel.amenities?.slice(0, 4).map(amenity => (
            <div class="text-center">
              <div class="text-4xl mb-2">üè®</div>
              <h3 class="font-semibold">{amenity.name?.es}</h3>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Rooms Section -->
  <section class="py-16">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold mb-4">
          {t('rooms.title')}
        </h2>
        <p class="text-lg text-gray-700 mb-8">
          {t('rooms.subtitle')}
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
        {featuredRooms.map(room => (
          <RoomCard room={room} currency="USD" client:load />
        ))}
      </div>

      <div class="text-center">
        <Button variant="outline" size="lg">
          <a href="/rooms">{t('rooms.viewAll')}</a>
        </Button>
      </div>
    </div>
  </section>

  <!-- Tourism Section -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold mb-4">
          {t('tourism.title')}
        </h2>
        <p class="text-lg text-gray-700 mb-8">
          {t('tourism.subtitle')}
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
        {featuredTourism.map(touristSpot => (
          <TourismCard tourism={touristSpot} client:load />
        ))}
      </div>

      <div class="text-center">
        <Button variant="outline" size="lg">
          <a href="/tourism">{t('tourism.viewAll')}</a>
        </Button>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-hotel-primary text-white">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        {t('cta.title')}
      </h2>
      <p class="text-xl mb-8 max-w-2xl mx-auto">
        {t('cta.subtitle')}
      </p>
      <Button variant="secondary" size="lg">
        {t('cta.bookNow')}
      </Button>
    </div>
  </section>
</HotelLayout>