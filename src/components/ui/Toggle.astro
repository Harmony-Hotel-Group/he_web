---
export interface Props {
  label: string;
  name: string;
  checked?: boolean;
  disabled?: boolean;
  size?: 'sm' | 'md' | 'lg';
  class?: string;
}

const {
  label,
  name,
  checked = false,
  disabled = false,
  size = 'md',
  class: className = ''
} = Astro.props;

const sizeClasses = {
  sm: 'w-8 h-4',
  md: 'w-10 h-5',
  lg: 'w-12 h-6'
};

const toggleSizeClasses = {
  sm: 'w-3 h-3',
  md: 'w-4 h-4',
  lg: 'w-5 h-5'
};

const textSizeClasses = {
  sm: 'text-sm',
  md: 'text-base',
  lg: 'text-lg'
};

const baseClasses = 'flex items-center';
const classes = `${baseClasses} ${className}`.trim();
---

<div class={classes}>
  <label class="flex items-center cursor-pointer">
    <input
      type="checkbox"
      {name}
      {checked}
      {disabled}
      class="sr-only"
    />

    <!-- Toggle Switch -->
    <div class={`relative ${sizeClasses[size]} ${checked ? 'bg-hotel-primary' : 'bg-gray-300'} rounded-full transition-colors duration-200 ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}>
      <div class={`absolute top-0.5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${
        checked ? 'translate-x-full' : 'translate-x-0'
      } ${toggleSizeClasses[size]} ${disabled ? 'cursor-not-allowed' : ''}`}></div>
    </div>

    <!-- Label -->
    <span class={`ml-3 ${textSizeClasses[size]} ${disabled ? 'text-gray-400' : 'text-gray-700'}`}>
      {label}
    </span>
  </label>
</div>